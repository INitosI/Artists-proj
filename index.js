import{i as h,a as g}from"./assets/vendor-CK1Rzdhu.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();let o=null,c=0,a=null;const y=300;let m=0;const L=()=>{o=document.createElement("div"),o.className="loader",o.innerHTML='<div class="spinner"></div>',document.body.appendChild(o)},v=()=>{c+=1,o||L(),c===1&&(m=Date.now(),o.classList.add("is-visible")),a&&(clearTimeout(a),a=null)},O=()=>{if(c===0||(c-=1,c>0))return;const e=Date.now()-m,t=Math.max(0,y-e);a=setTimeout(()=>{o==null||o.classList.remove("is-visible"),a=null},t)},w={position:"topRight",timeout:3e3,closeOnClick:!0,pauseOnHover:!0,progressBar:!0,animateInside:!1},d=(e,t,n,i={})=>{h[e]({title:t,message:n,...w,...i})},I={success:(e,t)=>d("success","Success",e,t),error:(e,t)=>d("error","Error",e,{timeout:5e3,...t}),info:(e,t)=>d("info","Info",e,t)},p=g.create({baseURL:"https://sound-wave.b.goit.study/api",timeout:1e4});let u=0;const b=()=>{u+=1,v()},f=()=>{u=Math.max(0,u-1),u===0&&O()};p.interceptors.request.use(e=>(b(),e),e=>(f(),Promise.reject(e)));p.interceptors.response.use(e=>(f(),e),e=>{var i,s,r;f();const t=(i=e.response)==null?void 0:i.status,n=((r=(s=e.response)==null?void 0:s.data)==null?void 0:r.message)||(t?`Error: ${t}`:"Network error. Please check your connection.");return I.error(n),Promise.reject({message:n,status:t,original:e})});const E=e=>p.get("/artists",{params:e}).then(({data:t})=>t),M=async e=>{try{const n=(await E(e)).artists}catch{}},N=async()=>{M({limit:8})};document.addEventListener("DOMContentLoaded",()=>{N()});
//# sourceMappingURL=index.js.map
