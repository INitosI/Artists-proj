import{i as g,a as h}from"./assets/vendor-CK1Rzdhu.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function a(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=a(s);fetch(s.href,r)}})();let o=null,i=null;const L=300;let p=0;const y=()=>{o=document.createElement("div"),o.className="loader",o.innerHTML='<div class="spinner"></div>',document.body.appendChild(o)},v=()=>{o||y(),p=Date.now(),o.classList.add("is-visible"),i&&(clearTimeout(i),i=null)},O=()=>{if(!o)return;const e=Date.now()-p,t=Math.max(0,L-e);i&&clearTimeout(i),i=setTimeout(()=>{o&&o.classList.remove("is-visible"),i=null},t)},w={position:"topRight",timeout:3e3,closeOnClick:!0,pauseOnHover:!0,progressBar:!0,animateInside:!1},l=(e,t,a,n={})=>{g[e]({title:t,message:a,...w,...n})},E={success:(e,t)=>l("success","Success",e,t),error:(e,t)=>l("error","Error",e,{timeout:5e3,...t}),info:(e,t)=>l("info","Info",e,t)},m=h.create({baseURL:"https://sound-wave.b.goit.study/api",timeout:1e4});let c=0;const I=()=>{c+=1,v()},d=()=>{c=Math.max(0,c-1),c===0&&O()};m.interceptors.request.use(e=>(I(),e),e=>(d(),Promise.reject(e)));m.interceptors.response.use(e=>(d(),e),e=>{var n,s,r;d();const t=(n=e.response)==null?void 0:n.status,a=((r=(s=e.response)==null?void 0:s.data)==null?void 0:r.message)||(t?`Error: ${t}`:"Network error. Please check your connection.");return E.error(a),Promise.reject({message:a,status:t,original:e})});const b=e=>m.get("/artists",{params:e}).then(({data:t})=>t),M=async e=>(await b(e)).artists||[],f=async({limit:e,page:t})=>M({limit:e,page:t});document.addEventListener("DOMContentLoaded",async()=>{await f({limit:8,page:1})});document.addEventListener("DOMContentLoaded",()=>{f()});
//# sourceMappingURL=index.js.map
